<div class="container text-center">
<a (click)="getAllTweet(0)">
    refresh for all tweet
    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-refresh" width="36" height="36"
        viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
        stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"></path>
        <path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"></path>
    </svg>
</a>
</div>
<hr>

<section [hidden]="flag==1 || Rflag==1" class="bg-transparent">
    <div class="mt-4 mb-5">
        <div class="d-flex justify-content-center row">
            <div class="col-md-10">
                <div aria-label="Page navigation example">
                    <ul class="pagination justify-content-center">
                      <li *ngIf="currentPage==0" class="page-item disabled">
                        <a class="page-link">Previous</a>
                      </li>
                      <li *ngIf="currentPage!=0" class="page-item">
                        <a class="page-link" (click)="previous(currentPage-1)">Previous</a>
                      </li>
    <li class="page-item active"><a class="page-link ">{{currentPage+1}}</a></li>
                      <li  *ngIf="u!=0" class="page-item">
                        <a class="page-link" (click)="next(currentPage+1)">Next</a>
                      </li>
                      <li *ngIf="u==0" class="page-item disabled">
                        <a class="page-link">Next</a>
                      </li>
                    </ul>
                </div>
                <p *ngIf="u===0">
                    No More tweet</p>    
                <div *ngFor="let i of msg[0]">
                    <div class="feed p-7">
                        <div class="bg-white border mt-2">
                            <div>
                                <div
                                    class="d-flex flex-row justify-content-between align-items-center p-2 border-bottom">
                                    <div class="d-flex flex-row align-items-center feed-text px-2">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                        class="icon icon-tabler icon-tabler-brand-amongus" width="36" height="36"
                                        viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                        <path
                                            d="M10.646 12.774c-1.939 .396 -4.467 .317 -6.234 -.601c-2.454 -1.263 -1.537 -4.66 1.423 -4.982c2.254 -.224 3.814 -.354 5.65 .214c.835 .256 1.93 .569 1.355 3.281c-.191 1.067 -1.07 1.904 -2.194 2.088z">
                                        </path>
                                        <path
                                            d="M5.84 7.132c.083 -.564 .214 -1.12 .392 -1.661c.456 -.936 1.095 -2.068 3.985 -2.456a22.464 22.464 0 0 1 2.867 .08c1.776 .14 2.643 1.234 3.287 3.368c.339 1.157 .46 2.342 .629 3.537v11l-12.704 -.019c-.552 -2.386 -.262 -5.894 .204 -8.481">
                                        </path>
                                        <path
                                            d="M17 10c.991 .163 2.105 .383 3.069 .67c.255 .13 .52 .275 .534 .505c.264 3.434 .57 7.448 .278 9.825h-3.881">
                                        </path>
                                    </svg>
                                        <div class="d-flex flex-column flex-wrap ml-2"><span
                                                class="font-weight-bold">{{i['userId']}}

                                            </span><span class="text-black-50 time">{{i['time']}}</span></div>
                                    </div>
                                    <div class="feed-icon px-2"><i class="fa fa-ellipsis-v text-black-50"></i></div>
                                </div>
                            </div>
                            <div class="p-2 px-3 "><span>
                                  <i class="display-6">{{i['postData']}}</i>
                                </span></div>
                            <div class="d-flex justify-content-end socials p-2 py-3">

                                <span>
                                    <input type="checkbox" (change)="like($event,i['_id'])"
                                        [attr.checked]="disable(i['_id'])">

                                    <span [hidden]="disable(i['_id'])"><svg type="checkbox"
                                            xmlns="http://www.w3.org/2000/svg"
                                            class="icon outline-primary icon-tabler icon-tabler-thumb-up" width="36"
                                            height="36" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                            <path
                                                d="M7 11v8a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1v-7a1 1 0 0 1 1 -1h3a4 4 0 0 0 4 -4v-1a2 2 0 0 1 4 0v5h3a2 2 0 0 1 2 2l-1 5a2 3 0 0 1 -2 2h-7a3 3 0 0 1 -3 -3">
                                            </path>
                                        </svg></span>
                                    <span [hidden]="!disable(i['_id'])"><svg type="checkbox"
                                            xmlns="http://www.w3.org/2000/svg"
                                            class="icon outline-primary icon-tabler icon-tabler-thumb-up" width="36"
                                            height="36" viewBox="0 0 24 24" stroke-width="1" stroke="black" fill="cyan"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                            <path
                                                d="M7 11v8a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1v-7a1 1 0 0 1 1 -1h3a4 4 0 0 0 4 -4v-1a2 2 0 0 1 4 0v5h3a2 2 0 0 1 2 2l-1 5a2 3 0 0 1 -2 2h-7a3 3 0 0 1 -3 -3">
                                            </path>
                                        </svg></span>
                                    <span class="text-red-90">{{i['like']}}</span>
                                </span>
                                <a (click)="getReply(i['_id'],i['postData'])">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="icon icon-tabler icon-tabler-message-circle-2" width="36" height="36"
                                        viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                        <path d="M3 20l1.3 -3.9a9 8 0 1 1 3.4 2.9l-4.7 1"></path>
                                    </svg>
                                    <!-- see Comment -->
                                </a>
                                <a (click)="postReply(i['_id'],i['postData'])">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="icon icon-tabler icon-tabler-message-share" width="36" height="36"
                                        viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                        <path d="M20 11v3a3 3 0 0 1 -3 3h-9l-4 4v-13a3 3 0 0 1 3 -3h7"></path>
                                        <path d="M17 4h4v4"></path>
                                        <path d="M16 9l5 -5"></path>
                                    </svg>
                                    <!-- post  -->
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
            </div>
        </div>
    </div>
</section>


<section [hidden]="Rflag===0" class="bg-transparent">
    <div class="mt-4 mb-5">
        <div class="d-flex justify-content-center row">
            <div class="col-md-10">

                <div class="feed p-7">
                    <div class="bg-white border mt-2">
                        <div>
                            <div class="d-flex flex-row justify-content-between align-items-center p-2 border-bottom">
                                <div class="feed-icon px-2"><i class="fa fa-ellipsis-v text-black-50"></i></div>
                            </div>
                        </div>
                        <div class="p-2 px-3"><span>
                                {{comment}} </span>
                        </div>
                        <div class="d-flex justify-content-end socials p-2 py-3">
                            <br>
                            <a style="position: absolute;right:0;" (click)='hideReply()'>
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="icon icon-tabler icon-tabler-arrow-back" width="36" height="36"
                                    viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                    stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <path d="M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1"></path>
                                </svg>
                                back
                            </a>
                            <br>
                        </div>

                    </div>
                </div>
                <div class="panel-heading">
                    <h5 *ngIf="h>0" class="panel-title">All comments...</h5>
                    <h5 *ngIf="h==0" class="panel-title">No comments yet...</h5>
                </div>
                <div *ngFor="let i of reply[0]">
                    <div class="feed p-7">
                        <div class="bg-white border mt-2">
                            <div>
                                <div
                                    class="d-flex flex-row justify-content-between align-items-center p-2 border-bottom">
                                    <div class="d-flex flex-row align-items-center feed-text px-2">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            class="icon icon-tabler icon-tabler-brand-amongus" width="36" height="36"
                                            viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                            stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                            <path
                                                d="M10.646 12.774c-1.939 .396 -4.467 .317 -6.234 -.601c-2.454 -1.263 -1.537 -4.66 1.423 -4.982c2.254 -.224 3.814 -.354 5.65 .214c.835 .256 1.93 .569 1.355 3.281c-.191 1.067 -1.07 1.904 -2.194 2.088z">
                                            </path>
                                            <path
                                                d="M5.84 7.132c.083 -.564 .214 -1.12 .392 -1.661c.456 -.936 1.095 -2.068 3.985 -2.456a22.464 22.464 0 0 1 2.867 .08c1.776 .14 2.643 1.234 3.287 3.368c.339 1.157 .46 2.342 .629 3.537v11l-12.704 -.019c-.552 -2.386 -.262 -5.894 .204 -8.481">
                                            </path>
                                            <path
                                                d="M17 10c.991 .163 2.105 .383 3.069 .67c.255 .13 .52 .275 .534 .505c.264 3.434 .57 7.448 .278 9.825h-3.881">
                                            </path>
                                        </svg>
                                        <div class="d-flex flex-column flex-wrap ml-2">
                                            comment by<span class="font-weight-bold">{{i['userId']}}

                                            </span></div>
                                    </div>
                                    <div class="feed-icon px-2"><i class="fa fa-ellipsis-v text-black-50"></i></div>
                                </div>
                            </div>
                            <div class="p-2 px-3"><span>
                                    {{i['reply'] }} </span></div>
                            <br>
                            <div class="d-flex justify-content-end socials p-2 py-3">
                                <br>
                                <a style="position: absolute;right:0;" (click)='hideReply()'>
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="icon icon-tabler icon-tabler-arrow-back" width="36" height="36"
                                        viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                        <path d="M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1"></path>
                                    </svg>
                                    back
                                </a>
                                <br>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
            </div>
        </div>
    </div>
</section>

<section [hidden]="flag===0" class="bg-transparent">
    <div class="row d-flex justify-content-center align-items-center h-10">
        <div class="col-md-10 col-xs-12 col-md-offset-3">
            <div class="panel">
                <div class="panel-heading">
                    <h5 class="panel-title">post comments...</h5>
                </div>
                <div class="panel-body">
                    <form [formGroup]="tweet" (ngSubmit)="sendReply()">
                        <div>
                            <textarea class="form-control" row="4" col="60" placeholder="write reply" formControlName="post">
                        </textarea>
                            <br>
                            <button style="position: absolute;right:0;" [disabled]="!tweet.valid"
                                class="float-end btn btn-info btn-sm pull-right waves-effect waves-light"
                                type="submit">send reply
                            </button>
                            <a style="position: absolute;left:1%;" (click)="back()">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-back"
                                    width="36" height="36" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                                    fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <path d="M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1"></path>
                                </svg>
                                back
                            </a>
                        </div>
                    </form>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- <p>alltweet works!</p>
<button (click)="getAllTweet()">all tweet</button>
<table [hidden]="flag==1 || Rflag==1">
    <div *ngFor="let i of msg[0]">
        <tr>
            <td>{{i['userId']|json}}</td>
            <td>{{i['postData']|json}}</td>
            <td>{{i['like'] |json}}</td>
            <td>{{i['time'] |json}}</td>
            <button (click)="getReply(i['_id'],i['postData'])">show reply</button>
            <button (click)="postReply(i['_id'],i['postData'])">post reply</button>
            <input type="checkbox" (change)="like($event,i['_id'])" [attr.checked]="disable(i['_id'])">Like<br>
        </tr>
    </div>
</table>

<table [hidden]="Rflag===0">
    <tr>
        {{comment}} <br>
        <button (click)='hideReply()'> Hide reply</button>
    </tr>
    <div *ngFor="let i of reply[0]">
        <tr>
            <td>{{i['userId']|json}}</td>
            <td>{{i['reply'] |json}}</td>
        <tr>
    </div>
</table> -->

<!-- <form [hidden]="flag===0" [formGroup]="tweet" (ngSubmit)="sendReply()">
    {{comment}}
    <textarea row="4" col="50" placeholder="write reply" formControlName="post">
    </textarea>
    <button [disabled]="!tweet.valid" type="submit">send Reply
    </button>
</form> -->